{% extends "base.html" %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-community-resources{% endblock %}

{% block content %}
    <main class="container mx-auto px-4 py-6">
        <h1>{{ page.title }}</h1>

        {% if page.intro %}
            <div class="prose my-6">
                {{ page.intro|richtext }}
            </div>
        {% endif %}

        <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for online_worship in online_worship_meetings %}
                <article class="card card-border bg-base-100 h-full">
                    <div class="card-body">
                        <h2 class="card-title">{{ online_worship.title }}</h2>

                        {% if online_worship.times_of_worship %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Times of worship:</strong>
                                <div class="prose">
                                    {{ online_worship.times_of_worship|richtext }}
                                </div>
                            </div>
                        {% endif %}

                        {% if online_worship.hosted_by %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Hosted by:</strong>
                                <span>{{ online_worship.hosted_by }}</span>
                            </div>
                        {% endif %}

                        {% if online_worship.online_worship_day %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Online worship day:</strong>
                                <span>{{ online_worship.online_worship_day }}</span>
                            </div>
                        {% endif %}

                        {% if online_worship.online_worship_time %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Online worship time:</strong>
                                <span>
                                    {{ online_worship.online_worship_time }}
                                    {% if online_worship.online_worship_timezone %}
                                        ({{ online_worship.online_worship_timezone }})
                                    {% endif %}
                                </span>
                            </div>
                        {% endif %}

                        {% if online_worship.online_worship_url %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Online worship URL:</strong>
                                <span class="break-all">{{ online_worship.online_worship_url }}</span>
                            </div>
                        {% endif %}

                        {% if online_worship.online_worship_notes %}
                            <div class="mt-2">
                                <strong class="text-sm font-semibold">Online worship notes:</strong>
                                <span>{{ online_worship.online_worship_notes }}</span>
                            </div>
                        {% endif %}

                        <div class="card-actions mt-auto justify-end">
                            <a href="{{ online_worship.url }}" class="btn btn-outline btn-primary">
                                View details
                                <span class="sr-only">about {{ online_worship.title }}</span>
                            </a>
                        </div>
                    </div>
                </article>
            {% endfor %}
        </section>
    </main>
{% endblock content %}
